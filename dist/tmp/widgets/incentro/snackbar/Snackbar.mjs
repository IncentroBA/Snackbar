import { useRef, useEffect, createElement } from 'react';

/* eslint-disable no-unused-expressions */
function Snackbar({
  action,
  autoClose,
  buttonLabel,
  canBeClosed,
  leading,
  openSnackbar,
  textLabel,
  ...rest
}) {
  const id = rest.id || "";
  const style = rest.class || "";
  const widgetName = rest.name || "";
  const widget = useRef(null);
  const widgetContainer = useRef(null);
  let timer;

  function onclickAction() {
    action.execute();
  }

  function closeSnackbar() {
    clearTimer();
    widget.current && widget.current.classList.remove("snackbar-widget--available");
    widgetContainer.current && widgetContainer.current.classList.remove("snackbar-widget__container--open");
    openSnackbar.setValue(false);
  }

  function setTimer() {
    timer = setTimeout(() => closeSnackbar(), autoClose * 1000);
  }

  function clearTimer() {
    clearTimeout(timer);
  }

  useEffect(() => {
    if (widgetContainer.current && openSnackbar.status === "available") {
      if (openSnackbar.value === true) {
        widget.current.classList.add("snackbar-widget--available");
        widgetContainer.current.classList.add("snackbar-widget__container--open");
        setTimer();
      }

      if (openSnackbar.value === false) {
        widget.current.classList.remove("snackbar-widget--available");
        widgetContainer.current.classList.remove("snackbar-widget__container--open");
        clearTimer();
      }

      if (leading === true) {
        widget.current.classList.add("snackbar-widget--leading");
      }
    }
  });

  if (textLabel.status === "available") {
    return createElement("div", {
      id: id,
      className: `snackbar-widget ${style} ${widgetName}`,
      ref: widget
    }, createElement("div", {
      className: "snackbar-widget__container",
      ref: widgetContainer
    }, createElement("p", {
      className: "snackbar-widget__label",
      "aria-live": "polite"
    }, textLabel.value), createElement("div", {
      className: "snackbar-widget__actions"
    }, action && action.canExecute && createElement("button", {
      className: "snackbar-widget__action",
      onClick: onclickAction
    }, buttonLabel), canBeClosed === true && createElement("button", {
      className: "snackbar-widget__close",
      title: "Dismiss",
      onClick: closeSnackbar
    }, createElement("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      width: "10",
      height: "10",
      viewBox: "0 0 10 10"
    }, createElement("path", {
      d: "M6,5,9.8,1.19a.71.71,0,0,0,0-1,.71.71,0,0,0-1,0L5,4,1.19.2a.71.71,0,0,0-1,0,.71.71,0,0,0,0,1L4,5,.2,8.81a.71.71,0,0,0,0,1,.74.74,0,0,0,.5.2.71.71,0,0,0,.49-.2L5,6,8.81,9.8a.71.71,0,0,0,.49.2.74.74,0,0,0,.5-.2.71.71,0,0,0,0-1Z",
      fill: "#fff"
    }))))));
  } else {
    return null;
  }
}

export { Snackbar as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU25hY2tiYXIubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvU25hY2tiYXIuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuaW1wb3J0IFwiLi91aS9TbmFja2Jhci5jc3NcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNuYWNrYmFyKHtcbiAgICBhY3Rpb24sXG4gICAgYXV0b0Nsb3NlLFxuICAgIGJ1dHRvbkxhYmVsLFxuICAgIGNhbkJlQ2xvc2VkLFxuICAgIGxlYWRpbmcsXG4gICAgb3BlblNuYWNrYmFyLFxuICAgIHRleHRMYWJlbCxcbiAgICAuLi5yZXN0XG59KSB7XG4gICAgY29uc3QgaWQgPSByZXN0LmlkIHx8IFwiXCI7XG4gICAgY29uc3Qgc3R5bGUgPSByZXN0LmNsYXNzIHx8IFwiXCI7XG4gICAgY29uc3Qgd2lkZ2V0TmFtZSA9IHJlc3QubmFtZSB8fCBcIlwiO1xuICAgIGNvbnN0IHdpZGdldCA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB3aWRnZXRDb250YWluZXIgPSB1c2VSZWYobnVsbCk7XG4gICAgbGV0IHRpbWVyO1xuXG4gICAgZnVuY3Rpb24gb25jbGlja0FjdGlvbigpIHtcbiAgICAgICAgYWN0aW9uLmV4ZWN1dGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZVNuYWNrYmFyKCkge1xuICAgICAgICBjbGVhclRpbWVyKCk7XG4gICAgICAgIHdpZGdldC5jdXJyZW50ICYmIHdpZGdldC5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzbmFja2Jhci13aWRnZXQtLWF2YWlsYWJsZVwiKTtcbiAgICAgICAgd2lkZ2V0Q29udGFpbmVyLmN1cnJlbnQgJiYgd2lkZ2V0Q29udGFpbmVyLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShcInNuYWNrYmFyLXdpZGdldF9fY29udGFpbmVyLS1vcGVuXCIpO1xuICAgICAgICBvcGVuU25hY2tiYXIuc2V0VmFsdWUoZmFsc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRpbWVyKCkge1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gY2xvc2VTbmFja2JhcigpLCBhdXRvQ2xvc2UgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh3aWRnZXRDb250YWluZXIuY3VycmVudCAmJiBvcGVuU25hY2tiYXIuc3RhdHVzID09PSBcImF2YWlsYWJsZVwiKSB7XG4gICAgICAgICAgICBpZiAob3BlblNuYWNrYmFyLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmN1cnJlbnQuY2xhc3NMaXN0LmFkZChcInNuYWNrYmFyLXdpZGdldC0tYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICAgIHdpZGdldENvbnRhaW5lci5jdXJyZW50LmNsYXNzTGlzdC5hZGQoXCJzbmFja2Jhci13aWRnZXRfX2NvbnRhaW5lci0tb3BlblwiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3BlblNuYWNrYmFyLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHdpZGdldC5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzbmFja2Jhci13aWRnZXQtLWF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICB3aWRnZXRDb250YWluZXIuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKFwic25hY2tiYXItd2lkZ2V0X19jb250YWluZXItLW9wZW5cIik7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGVhZGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHdpZGdldC5jdXJyZW50LmNsYXNzTGlzdC5hZGQoXCJzbmFja2Jhci13aWRnZXQtLWxlYWRpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0ZXh0TGFiZWwuc3RhdHVzID09PSBcImF2YWlsYWJsZVwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGlkPXtpZH0gY2xhc3NOYW1lPXtgc25hY2tiYXItd2lkZ2V0ICR7c3R5bGV9ICR7d2lkZ2V0TmFtZX1gfSByZWY9e3dpZGdldH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmFja2Jhci13aWRnZXRfX2NvbnRhaW5lclwiIHJlZj17d2lkZ2V0Q29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwic25hY2tiYXItd2lkZ2V0X19sYWJlbFwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RleHRMYWJlbC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNuYWNrYmFyLXdpZGdldF9fYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2FjdGlvbiAmJiBhY3Rpb24uY2FuRXhlY3V0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzbmFja2Jhci13aWRnZXRfX2FjdGlvblwiIG9uQ2xpY2s9e29uY2xpY2tBY3Rpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnV0dG9uTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FuQmVDbG9zZWQgPT09IHRydWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic25hY2tiYXItd2lkZ2V0X19jbG9zZVwiIHRpdGxlPVwiRGlzbWlzc1wiIG9uQ2xpY2s9e2Nsb3NlU25hY2tiYXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNNiw1LDkuOCwxLjE5YS43MS43MSwwLDAsMCwwLTEsLjcxLjcxLDAsMCwwLTEsMEw1LDQsMS4xOS4yYS43MS43MSwwLDAsMC0xLDAsLjcxLjcxLDAsMCwwLDAsMUw0LDUsLjIsOC44MWEuNzEuNzEsMCwwLDAsMCwxLC43NC43NCwwLDAsMCwuNS4yLjcxLjcxLDAsMCwwLC40OS0uMkw1LDYsOC44MSw5LjhhLjcxLjcxLDAsMCwwLC40OS4yLjc0Ljc0LDAsMCwwLC41LS4yLjcxLjcxLDAsMCwwLDAtMVpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjZmZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiU25hY2tiYXIiLCJhY3Rpb24iLCJhdXRvQ2xvc2UiLCJidXR0b25MYWJlbCIsImNhbkJlQ2xvc2VkIiwibGVhZGluZyIsIm9wZW5TbmFja2JhciIsInRleHRMYWJlbCIsInJlc3QiLCJpZCIsInN0eWxlIiwiY2xhc3MiLCJ3aWRnZXROYW1lIiwibmFtZSIsIndpZGdldCIsInVzZVJlZiIsIndpZGdldENvbnRhaW5lciIsInRpbWVyIiwib25jbGlja0FjdGlvbiIsImV4ZWN1dGUiLCJjbG9zZVNuYWNrYmFyIiwiY2xlYXJUaW1lciIsImN1cnJlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzZXRWYWx1ZSIsInNldFRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInVzZUVmZmVjdCIsInN0YXR1cyIsInZhbHVlIiwiYWRkIiwiY2FuRXhlY3V0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUllLFNBQVNBLFFBQVQsQ0FBa0I7RUFDN0JDLE1BRDZCO0VBRTdCQyxTQUY2QjtFQUc3QkMsV0FINkI7RUFJN0JDLFdBSjZCO0VBSzdCQyxPQUw2QjtFQU03QkMsWUFONkI7RUFPN0JDLFNBUDZCO0VBUTdCLEdBQUdDO0FBUjBCLENBQWxCLEVBU1o7RUFDQyxNQUFNQyxFQUFFLEdBQUdELElBQUksQ0FBQ0MsRUFBTCxJQUFXLEVBQXRCO0VBQ0EsTUFBTUMsS0FBSyxHQUFHRixJQUFJLENBQUNHLEtBQUwsSUFBYyxFQUE1QjtFQUNBLE1BQU1DLFVBQVUsR0FBR0osSUFBSSxDQUFDSyxJQUFMLElBQWEsRUFBaEM7RUFDQSxNQUFNQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQyxJQUFELENBQXJCO0VBQ0EsTUFBTUMsZUFBZSxHQUFHRCxNQUFNLENBQUMsSUFBRCxDQUE5QjtFQUNBLElBQUlFLEtBQUo7O0VBRUEsU0FBU0MsYUFBVCxHQUF5QjtJQUNyQmpCLE1BQU0sQ0FBQ2tCLE9BQVA7OztFQUdKLFNB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
